{
  "hash": "8808412847625d0f36a40ffadf0632cf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Caracterização Meteorológica\"\n---\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(openair)\nlibrary(ggplot2)\nlibrary(scales)\n```\n:::\n\n\n### Séries horárias\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nif (exists(\"meteo_hour\")) {\n  meteo_hour %>%\n    filter(Cidade %in% c(\"Rio Branco do Sul\", \"Almirante Tamandaré\")) %>%\n    openair::timePlot(pollutant = c(\"press\",\"temp\",\"rad\",\"umid\",\"prec\",\"ws\"),\n                      y.relation = \"free\")\n}\n```\n:::\n\n\n### Rosa de vento (velocidade como variável)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nif (exists(\"meteo_hour\")) {\n  meteo_hour %>%\n    filter(Cidade %in% c(\"Rio Branco do Sul\",\"Almirante Tamandaré\")) %>%\n    openair::pollutionRose(pollutant = \"ws\", type = \"Cidade\",\n                           hemisphere = \"southern\",\n                           key.footer = \"Velocidade do vento (m/s)\")\n}\n```\n:::\n\n\n### Sazonalidade (vento)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nif (exists(\"meteo_hour\")) {\n  meteo_hour %>%\n    filter(Cidade %in% c(\"Rio Branco do Sul\",\"Almirante Tamandaré\")) %>%\n    openair::cutData(hemisphere = \"southern\", type = \"season\") %>%\n    openair::pollutionRose(pollutant = \"ws\", type = c(\"season\",\"Cidade\"),\n                           hemisphere = \"southern\",\n                           key.footer = \"Velocidade do vento (m/s)\")\n}\n```\n:::\n\n\n### Climatologia diária simplificada\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nif (exists(\"meteo_hour\")) {\n  meteo_day <- meteo_hour %>%\n    mutate(date = lubridate::floor_date(date,\"day\")) %>%\n    group_by(Cidade, date) %>%\n    summarise(temp = mean(temp, na.rm=TRUE),\n              umid = mean(umid, na.rm=TRUE),\n              prec = sum(prec, na.rm=TRUE),\n              .groups=\"drop\")\n  ggplot(meteo_day, aes(x=date)) +\n    geom_col(aes(y=prec*10, fill=\"Precipitação\"), alpha=0.4) +\n    geom_line(aes(y=temp, color=\"Temperatura\"), linewidth=0.6) +\n    geom_line(aes(y=umid, color=\"Umidade Relativa\"), linewidth=0.6) +\n    scale_y_continuous(sec.axis = sec_axis(~./10, name=\"Precipitação (mm)\")) +\n    facet_wrap(.~Cidade, scales=\"free_y\") +\n    scale_fill_manual(values=\"darkgreen\") +\n    scale_color_manual(values=c(\"Temperatura\"=\"red\",\"Umidade Relativa\"=\"blue\")) +\n    theme_bw() +\n    labs(y=\"Temp (°C) / UR (%)\", x=\"Data\", fill=\"\", color=\"\", title=\"Climatologia diária (Temp, UR e Precipitação)\") +\n    scale_x_date(labels = scales::label_date_short(), breaks=\"1 month\")\n}\n```\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}