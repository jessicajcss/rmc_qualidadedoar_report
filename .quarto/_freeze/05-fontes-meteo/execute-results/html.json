{
  "hash": "716effc5c635cb2d8eb6263a83c25ba1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Meteorologia e Potenciais Fontes (Polar / Vento)\"\n---\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(openair)\nlibrary(tidyverse)\n#source(\"scripts/load_cached_data.R\")\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# teste rápido: figura base (deve gerar uma imagem PNG embutida)\nplot(1:10, main = \"Teste: plot(1:10) - Deve aparecer no HTML\")\n```\n\n::: {.cell-output-display}\n![](05-fontes-meteo_files/figure-html/unnamed-chunk-2-1.png){fig-align='center' width=864}\n:::\n\n```{.r .cell-code}\n# teste ggplot (deve gerar imagem)\nlibrary(ggplot2)\np <- ggplot(mtcars, aes(x = wt, y = mpg)) + geom_point() + ggtitle(\"Teste: ggplot mtcars\")\nprint(p)\n```\n\n::: {.cell-output-display}\n![](05-fontes-meteo_files/figure-html/unnamed-chunk-2-2.png){fig-align='center' width=864}\n:::\n\n```{.r .cell-code}\n# teste htmlwidget (levemente opcional; se plotly/leaflet instalados)\nif (requireNamespace(\"htmlwidgets\", quietly = TRUE) && requireNamespace(\"leaflet\", quietly = TRUE)) {\n  leaflet::leaflet() %>% leaflet::addTiles() %>% leaflet::setView(-49.3, -25.3, zoom = 10)\n}\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-2a8315d178febfecb416\" style=\"width:100%;height:357px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2a8315d178febfecb416\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]}],\"setView\":[[-25.3,-49.3],10,[]]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### Polar plots (exemplo NO2)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nif (exists(\"air_quality_data_ugm3\") && exists(\"meteo_hour\")) {\n  joined <- air_quality_data_ugm3 %>%\n    left_join(meteo_hour %>% select(date, ws, wd, Cidade), by=c(\"Cidade\", \"date\"))\n\n  joined %>%\n    subset(Cidade == \"Rio Branco do Sul\") %>%\n    openair::polarPlot(pollutant=\"NO2\", ws=\"ws\", wd=\"wd\", main=\"NO2 vs. vento — RBS\")\n}\n```\n\n::: {.cell-output-display}\n![](05-fontes-meteo_files/figure-html/scatterplot-1.png){fig-align='center' width=864}\n:::\n:::\n\n\n### `pollutionRose` aplicado a PM2.5 sintetizado\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nif (exists(\"purpleair\") && exists(\"meteo_hour\")) {\n  meteo <- meteo_hour %>% select(date, ws, wd, Cidade)\n  \n  pa_join <- purpleair %>%\n    dplyr::left_join(meteo, by=c(\"Cidade\", \"Date\"=\"date\"))\n\n  pa_join %>%\n    openair::pollutionRose(pollutant=\"PM2.5\", \n                           type=\"Cidade\", hemisphere=\"southern\",\n                           key.footer=\"PM2.5 (µg/m³)\")\n}\n```\n\n::: {.cell-output-display}\n![](05-fontes-meteo_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=864}\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-binding-2.2.3/leaflet.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}